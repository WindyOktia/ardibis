$(document).ready(function () {
	$("#fc-basic-views").fullCalendar({
		header: {
			left: "prev,next today",
			center: "title",
			right: "month,basicWeek,basicDay"
		},
		defaultDate: "2016-06-12",
		editable: true,
		eventLimit: true, // allow "more" link when too many events
		selectable: true,
		selectHelper: true,
		select: function (start, end) {

			$('#ModalAdd #start').val(moment(start).format('YYYY-MM-DD HH:mm:ss'));
			$('#ModalAdd #end').val(moment(end).format('YYYY-MM-DD HH:mm:ss'));
			$('#ModalAdd').modal('show');
		},
		eventRender: function (event, element) {
			element.bind('dblclick', function () {
				$('#ModalEdit #id').val(event.id);
				$('#ModalEdit #title').val(event.title);
				$('#ModalEdit #color').val(event.color);
				$('#ModalEdit').modal('show');
			});
		},
		events: [{
			title: "All Day Event",
			start: "2016-06-01"
		}, {
			title: "Long Event",
			start: "2016-06-07",
			end: "2016-06-10"
		}, {
			id: 999,
			title: "Repeating Event",
			start: "2016-06-09T16:00:00"
		}, {
			id: 999,
			title: "Repeating Event",
			start: "2016-06-16T16:00:00"
		}, {
			title: "Conference",
			start: "2016-06-11"
		}, {
			title: "Meeting",
			start: "2016-06-12"
		}, {
			title: "Lunch",
			start: "2016-06-12T12:00:00"
		}, {
			title: "Meeting",
			start: "2016-06-12T14:30:00"
		}, {
			title: "Happy Hour",
			start: "2016-06-12T17:30:00"
		}, {
			title: "Dinner",
			start: "2016-06-12T20:00:00"
		}, {
			title: "Birthday Party",
			start: "2016-06-13T07:00:00"
		}, {
			title: "Click for Google",
			url: "http://google.com/",
			start: "2016-06-28"
		}]
	}), $.each($.fullCalendar.locales, function (t) {
		$("#lang-selector").append($("<option/>").attr("value", t).text(t))
	}), $("#lang-selector").on("change", function () {
		this.value && $("#fc-languages").fullCalendar("option", "locale", this.value)
	}), $("#fc-timezones").fullCalendar({
		header: {
			left: "prev,next today",
			center: "title",
			right: "month,agendaWeek,agendaDay"
		},
		defaultDate: "2016-06-12",
		editable: !0,
		selectable: !0,
		eventLimit: !0,
		events: {
			url: "../../../app-assets/data/fullcalendar/php/get-events.php",
			error: function () {
				$("#script-warning").show()
			}
		},
		loading: function (t) {
			$("#loading").toggle(t)
		},
		eventRender: function (t, e) {
			t.start.hasZone() && e.find(".fc-title").after($('<div class="tzo"/>').text(t.start.format("Z")))
		},
		dayClick: function (t) {
			console.log("dayClick", t.format())
		},
		select: function (t, e) {
			console.log("select", t.format(), e.format())
		}
	}), $.getJSON("../../../app-assets/data/fullcalendar/php/get-timezones.php", function (t) {
		$.each(t, function (t, e) {
			"UTC" != e && $("#timezone-selector").append($("<option/>").text(e).attr("value", e))
		})
	}), $("#timezone-selector").on("change", function () {
		$("#fc-timezones").fullCalendar("option", "timezone", this.value || !1)
	})
});
